# - Find wxPDFDocument library 
# Created by Lucien Schreiber 
#
# SEARCH_WXPDFDOCUMENT_PATH : Search path for wxPDFDocuemnt (manualy specified)
# WXPDFDOCUMENT_INCLUDE : Include path 
# WXPDFDOCUMENT_LIBRARY : Library


#define what we search
SET(SEARCH_WXPDFDOCUMENT_PATH CACHE PATH "Path to the wxPDFDocuement Library")
FIND_PATH(WXPDFDOCUMENT_INCLUDE wx/pdfdocument.h
        ${SEARCH_WXPDFDOCUMENT_PATH}
        ${SEARCH_WXPDFDOCUMENT_PATH}/wx
        ${SEARCH_WXPDFDOCUMENT_PATH}/include/wx
        ${SEARCH_WXPDFDOCUMENT_PATH}/include
        )

IF (NOT WXPDFDOCUMENT_INCLUDE)
    MESSAGE(SEND_ERROR "pdfdocument.h wasn't found! in ${SEARCH_WXPDFDOCUMENT_PATH}")
ENDIF (NOT WXPDFDOCUMENT_INCLUDE)

IF (WIN32)
    FIND_LIBRARY(WXPDFDOCUMENT_LIBRARY_DEBUG
            NAMES wxcode_msw31d_pdfdoc wxcode_msw31ud_pdfdoc
            wxcode_msw30d_pdfdoc wxcode_msw30ud_pdfdoc
            wxcode_msw29d_pdfdoc wxcode_msw29ud_pdfdoc
            wxpdfdocd
            PATHS ${SEARCH_WXPDFDOCUMENT_PATH}/lib/vc14x_x64_lib)

    FIND_LIBRARY(WXPDFDOCUMENT_LIBRARY_RELEASE
            NAMES wxcode_msw31u_pdfdoc wxcode_msw31_pdfdoc
            wxcode_msw30u_pdfdoc wxcode_msw30_pdfdoc
            wxcode_msw29_pdfdoc wxcode_msw29u_pdfdoc
            wxpdfdoc
            PATHS ${SEARCH_WXPDFDOCUMENT_PATH}/lib/vc14x_x64_lib)

    IF (NOT WXPDFDOCUMENT_LIBRARY_DEBUG OR NOT WXPDFDOCUMENT_LIBRARY_RELEASE)
        MESSAGE(STATUS "WXPDFDOCUMENT_LIBRARY_DEBUG: ${WXPDFDOCUMENT_LIBRARY_DEBUG}")
        MESSAGE(STATUS "WXPDFDOCUMENT_LIBRARY_RELEASE: ${WXPDFDOCUMENT_LIBRARY_RELEASE}")
        MESSAGE(FATAL_ERROR "Unable to find wxPDFDocument libraries (both debug and release needed)!")
    ENDIF (NOT WXPDFDOCUMENT_LIBRARY_DEBUG OR NOT WXPDFDOCUMENT_LIBRARY_RELEASE)

    SET(WXPDFDOCUMENT_LIBRARY ${WXPDFDOCUMENT_LIBRARY}
            debug ${WXPDFDOCUMENT_LIBRARY_DEBUG}
            optimized ${WXPDFDOCUMENT_LIBRARY_RELEASE})

ELSE (WIN32)
    SET(WXPDFDOCUMENT_LIBRARY WXPDFDOCUMENT_LIBRARY-NOTFOUND)
    FILE(GLOB WXPDFDOCUMENT_LIBRARY ${SEARCH_WXPDFDOCUMENT_PATH}/lib/*.a)
    LIST(LENGTH WXPDFDOCUMENT_LIBRARY WXPDFDOCUMENT_LIBRARY_COUNT)
    IF (NOT WXPDFDOCUMENT_LIBRARY_COUNT)
        FILE(GLOB WXPDFDOCUMENT_LIBRARY ${SEARCH_WXPDFDOCUMENT_PATH}/lib/*.so)
        LIST(LENGTH WXPDFDOCUMENT_LIBRARY WXPDFDOCUMENT_LIBRARY_COUNT)
        IF (NOT WXPDFDOCUMENT_LIBRARY_COUNT)
            MESSAGE(SEND_ERROR "Problem finding wxPDFDocument library (${WXPDFDOCUMENT_LIBRARY_COUNT} files found)")
        ENDIF (NOT WXPDFDOCUMENT_LIBRARY_COUNT)
    ENDIF (NOT WXPDFDOCUMENT_LIBRARY_COUNT)
    MESSAGE(STATUS "wxPDFDocument library include are : ${WXPDFDOCUMENT_INCLUDE}")
    MESSAGE(STATUS "wxPDFDocument library is: ${WXPDFDOCUMENT_LIBRARY}")
ENDIF (WIN32)

MARK_AS_ADVANCED(
        WXPDFDOCUMENT_INCLUDE
        WXPDFDOCUMENT_LIBRARY
)


IF (WXPDFDOCUMENT_INCLUDE)
    INCLUDE_DIRECTORIES(${WXPDFDOCUMENT_INCLUDE})
ENDIF (WXPDFDOCUMENT_INCLUDE)


IF (WXPDFDOCUMENT_LIBRARY)
    LINK_LIBRARIES(${WXPDFDOCUMENT_LIBRARY})
ENDIF (WXPDFDOCUMENT_LIBRARY)
